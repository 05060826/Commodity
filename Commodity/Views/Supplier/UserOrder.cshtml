
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <script src="~/layuiadmin/layui/layui.js"></script>
    <link href="~/layuiadmin/layui/css/layui.css" rel="stylesheet" />
    <script src="~/lib/jquery/dist/jquery.js"></script>
</head>
<body>
  <div style="width:300px;">
    <div class='layui-form-item'>
      <label class='layui-form-label'>店铺名称</label><div class='layui-input-block'><input type='text'  name='title' lay-verify='title' autocomplete='off' class='layui-input' id="ShopName"></div>
      <label class='layui-form-label'>店铺地址</label><div class='layui-input-block'><input type='text'  name='title' lay-verify='title' autocomplete='off'  class='layui-input' id="ShopAddress"></div>
    </div>
    <div class='layui-form-item'>
      <label class='layui-form-label'>联系人</label><div class='layui-input-block'><input type='text'  name='title' lay-verify='title' autocomplete='off' class='layui-input' id="ContactName"></div>
      <label class='layui-form-label'>联系电话</label><div class='layui-input-block'><input type='text'  name='title' lay-verify='title' autocomplete='off' class='layui-input'  id="CortactPhone"></div>
    </div>
    <div class='layui-form-item'>
      <label class='layui-form-label'>邮箱</label><div class='layui-input-block'><input type='text'  name='title' lay-verify='title' autocomplete='off' class='layui-input' id="Mail"></div>
      <label class='layui-form-label'>真实姓名</label><div class='layui-input-block'><input type='text'  name='title' lay-verify='title' autocomplete='off' class='layui-input'  id="TrueName"></div>
    </div>
    <div style='margin-left:100px'><button type='button' class='layui-btn layui-btn-danger' click="updRoder()">修改</button><button type='button' class='layui-btn'>取消</button></div>
 </div>

</body>
</html>
<script>
    layui.use('element', function () {
        var element = layui.element;
    });

    layui.use(['layer', 'form', 'table', 'util', 'admin', 'config'], function () {
        var form = layui.form;
        form.render(); //渲染页面
    });
    $(function () {
        var SupperId = "TS202012";
        $.ajax({
            url: "http://localhost:54063/api/Supplier/GetUserRoder?SupperId="+SupperId,
            type: "get",
            dataType: "json",
            success: function (result) {
                $("#ShopName").val(result.ShopName);
                $("#ShopAddress").val(result.ShopAddress);
                $("#ContactName").val(result.ContactName);
                $("#CortactPhone").val(result.CortactPhone);
                $("#Mail").val(result.Mail);
                $("#TrueName").val(result.TrueName);
            }
        })
    })
    function updRoder() {
        var obj = {};
        obj.ShopName=$("#ShopName").val();
        obj.ShopAddress=$("#ShopAddress").val();
        obj.ContactName=$("#ContactName").val();
        obj.CortactPhone=$("#CortactPhone").val();
        obj.Mail=$("#Mail").val();
        obj.TrueName=$("#TrueName").val();
        $.ajax({
            url: "http://localhost:54063/api/Supplier/UpdUserRoder",
            data: JSON.stringify(obj),
            type: "get",
            dataType: "json",
            contentType:"application/json",
            success: function (result) {
                if (result > 0) {
                    layui.use('layer', function () {
                        var layer = layui.layer;

                        layer.msg('修改成功');
                    });
                }
                else {
                    layui.use('layer', function () {
                        var layer = layui.layer;

                        layer.msg('修改失败');
                    });
                }
            }
        })
    }
</script>